.\\" auto-generated by docbook2man-spec $Revision: 1.1.1.1 $
.TH "CREATEUSER" "1" "2009-06-27" "Application" "PostgreSQL Client Applications"
.SH NAME
createuser \- define a new PostgreSQL user account

.SH SYNOPSIS
.sp
\fBcreateuser\fR [ \fB\fIoption\fB\fR\fI...\fR ]  [ \fB\fIusername\fB\fR ] 
.SH "DESCRIPTION"
.PP
\fBcreateuser\fR creates a 
new PostgreSQL user (or more precisely, a role).
Only superusers and users with CREATEROLE privilege can create
new users, so \fBcreateuser\fR must be
invoked by someone who can connect as a superuser or a user with
CREATEROLE privilege.
.PP
If you wish to create a new superuser, you must connect as a
superuser, not merely with CREATEROLE privilege.
Being a superuser implies the ability to bypass all access permission
checks within the database, so superuserdom should not be granted lightly.
.PP
\fBcreateuser\fR is a wrapper around the
SQL command CREATE ROLE [\fBcreate_role\fR(7)].
There is no effective difference between creating users via
this utility and via other methods for accessing the server.
.SH "OPTIONS"
.PP
\fBcreateuser\fR accepts the following command-line arguments:
.TP
\fB\fIusername\fB\fR
Specifies the name of the PostgreSQL user
to be created.
This name must be different from all existing roles in this
PostgreSQL installation.
.TP
\fB-s\fR
.TP
\fB--superuser\fR
The new user will be a superuser.
.TP
\fB-S\fR
.TP
\fB--no-superuser\fR
The new user will not be a superuser.
This is the default.
.TP
\fB-d\fR
.TP
\fB--createdb\fR
The new user will be allowed to create databases.
.TP
\fB-D\fR
.TP
\fB--no-createdb\fR
The new user will not be allowed to create databases.
This is the default.
.TP
\fB-r\fR
.TP
\fB--createrole\fR
The new user will be allowed to create new roles (that is,
this user will have CREATEROLE privilege).
.TP
\fB-R\fR
.TP
\fB--no-createrole\fR
The new user will not be allowed to create new roles.
This is the default.
.TP
\fB-l\fR
.TP
\fB--login\fR
The new user will be allowed to log in (that is, the user name
can be used as the initial session user identifier).
This is the default.
.TP
\fB-L\fR
.TP
\fB--no-login\fR
The new user will not be allowed to log in.
(A role without login privilege is still useful as a means of
managing database permissions.)
.TP
\fB-i\fR
.TP
\fB--inherit\fR
The new role will automatically inherit privileges of roles
it is a member of.
This is the default.
.TP
\fB-I\fR
.TP
\fB--no-inherit\fR
The new role will not automatically inherit privileges of roles
it is a member of.
.TP
\fB-c \fInumber\fB\fR
.TP
\fB--connection-limit \fInumber\fB\fR
Set a maximum number of connections for the new user.
The default is to set no limit.
.TP
\fB-P\fR
.TP
\fB--pwprompt\fR
If given, \fBcreateuser\fR will issue a prompt for
the password of the new user. This is not necessary if you do not plan
on using password authentication.
.TP
\fB-E\fR
.TP
\fB--encrypted\fR
Encrypts the user's password stored in the database. If not
specified, the default password behavior is used.
.TP
\fB-N\fR
.TP
\fB--unencrypted\fR
Does not encrypt the user's password stored in the database. If
not specified, the default password behavior is used.
.TP
\fB-e\fR
.TP
\fB--echo\fR
Echo the commands that \fBcreateuser\fR generates
and sends to the server.
.PP
.PP
You will be prompted for a name and other missing information if it
is not specified on the command line.
.PP
\fBcreateuser\fR also accepts the following
command-line arguments for connection parameters:
.TP
\fB-h \fIhost\fB\fR
.TP
\fB--host \fIhost\fB\fR
Specifies the host name of the machine on which the 
server
is running. If the value begins with a slash, it is used 
as the directory for the Unix domain socket.
.TP
\fB-p \fIport\fB\fR
.TP
\fB--port \fIport\fB\fR
Specifies the TCP port or local Unix domain socket file 
extension on which the server
is listening for connections.
.TP
\fB-U \fIusername\fB\fR
.TP
\fB--username \fIusername\fB\fR
User name to connect as (not the user name to create).
.TP
\fB-w\fR
.TP
\fB--no-password\fR
Never issue a password prompt. If the server requires
password authentication and a password is not available by
other means such as a \fI.pgpass\fR file, the
connection attempt will fail. This option can be useful in
batch jobs and scripts where no user is present to enter a
password.
.TP
\fB-W\fR
.TP
\fB--password\fR
Force \fBcreateuser\fR to prompt for a
password (for connecting to the server, not for the
password of the new user).

This option is never essential, since
\fBcreateuser\fR will automatically prompt
for a password if the server demands password authentication.
However, \fBcreateuser\fR will waste a
connection attempt finding out that the server wants a password.
In some cases it is worth typing \fB-W\fR to avoid the extra
connection attempt.
.PP
.SH "ENVIRONMENT"
.TP
\fBPGHOST\fR
.TP
\fBPGPORT\fR
.TP
\fBPGUSER\fR
Default connection parameters
.PP
This utility, like most other PostgreSQL utilities,
also uses the environment variables supported by \fBlibpq\fR
(see in the documentation).
.PP
.SH "DIAGNOSTICS"
.PP
In case of difficulty, see CREATE ROLE [\fBcreate_role\fR(7)] and \fBpsql\fR(1) for
discussions of potential problems and error messages.
The database server must be running at the
targeted host. Also, any default connection settings and environment
variables used by the \fBlibpq\fR front-end
library will apply.
.SH "EXAMPLES"
.PP
To create a user joe on the default database
server:
.sp
.nf
$ \fBcreateuser joe\fR
Shall the new role be a superuser? (y/n) \fBn\fR
Shall the new role be allowed to create databases? (y/n) \fBn\fR
Shall the new role be allowed to create more new roles? (y/n) \fBn\fR
.sp
.fi
.PP
To create the same user joe using the
server on host eden, port 5000, avoiding the prompts and
taking a look at the underlying command:
.sp
.nf
$ \fBcreateuser -h eden -p 5000 -S -D -R -e joe\fR
CREATE ROLE joe NOSUPERUSER NOCREATEDB NOCREATEROLE INHERIT LOGIN;
.sp
.fi
.PP
To create the user joe as a superuser,
and assign a password immediately:
.sp
.nf
$ \fBcreateuser -P -s -e joe\fR
Enter password for new role: \fBxyzzy\fR
Enter it again: \fBxyzzy\fR
CREATE ROLE joe PASSWORD 'md5b5f5ba1a423792b526f799ae4eb3d59e' SUPERUSER CREATEDB CREATEROLE INHERIT LOGIN;
.sp
.fi
In the above example, the new password isn't actually echoed when typed,
but we show what was typed for clarity. As you see, the password is
encrypted before it is sent to the client. If the option \fB--unencrypted\fR
is used, the password \fBwill\fR appear in the echoed command
(and possibly also in the server log and elsewhere),
so you don't want to use \fB-e\fR in that case, if
anyone else can see your screen.
.SH "SEE ALSO"
\fBdropuser\fR(1), CREATE ROLE [\fBcreate_role\fR(7)]
